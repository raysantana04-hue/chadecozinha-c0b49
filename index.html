<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Ch√° de Cozinha da L√≠gia ü§ç</title>

<style>
    body { font-family: Arial; background:#f5f1ea; margin:0; text-align:center; }
    header { background:black; color:white; padding:30px; }
    h1 { margin:0; }
    .container { padding:20px; display: flex; flex-wrap: wrap; justify-content: center; }
    .item { 
        background:white; margin:10px; padding:15px; width:280px; 
        border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); 
        transition: transform 0.2s;
    }
    .item:hover { transform: scale(1.02); }
    .item img { width: 100%; height: 200px; object-fit: cover; border-radius: 8px; }
    button { background:black; color:white; border:none; padding:10px; border-radius:5px; cursor:pointer; width: 100%; }
    button:hover { background:#444; }
    .reservado-estilo { background:#ccc !important; cursor: not-allowed; }
    input { padding:8px; margin-top:5px; width:90%; border: 1px solid #ddd; border-radius: 4px; }
    .link-sugestao { display: block; margin: 10px 0; font-size: 12px; color: #0066ff; text-decoration: none; }
</style>
</head>

<body>

<header>
    <h1>Ch√° de Cozinha da L√≠gia ü§ç</h1>
    <p>21 de Fevereiro de 2026</p>
    <p>Escolha seu presente com carinho ‚ú®</p>
</header>

<div class="container" id="lista">Carregando presentes...</div>

<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>

<script>
  // Suas configura√ß√µes reais do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCm9DgExRWhYNryZMMrO00Ya9g0lfNHilU",
    authDomain: "chadecozinha-c0b49-27555.firebaseapp.com",
    databaseURL: "https://chadecozinha-c0b49-27555-default-rtdb.firebaseio.com",
    projectId: "chadecozinha-c0b49-27555",
    storageBucket: "chadecozinha-c0b49-27555.firebasestorage.app",
    messagingSenderId: "210066909829",
    appId: "1:210066909829:web:bb6958ff15e1a18e3017ec",
    measurementId: "G-PXVHMW524J"
  };

  // Inicializa o Firebase SEM USAR "IMPORT"
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  function carregar() {
    database.ref('presentes').on('value', (snapshot) => {
      const presentes = snapshot.val();
      let html = "";

      if (!presentes) {
        document.getElementById("lista").innerHTML = "<p>Nenhum presente no banco. Verifique o Realtime Database.</p>";
        return;
      }

      // O loop que cria os cart√µes dos 54 itens
      presentes.forEach((item, i) => {
        if (!item) return;
        const reservado = item.reservado;
        
        html += `
          <div class="item">
            <img src="${item.imagem}" alt="${item.nome}">
            <h3>${item.nome}</h3>
            <a href="${item.link}" target="_blank" class="link-sugestao">Ver no Mercado Livre</a>
            ${!reservado ? `
              <input id="nome${i}" placeholder="Seu nome">
              <br><br>
              <button onclick="reservar(${i})">Escolher</button>
            ` : `
              <button class="reservado-estilo" disabled>Reservado por ${item.pessoa}</button>
            `}
          </div>
        `;
      });
      document.getElementById("lista").innerHTML = html;
    });
  }

  function reservar(i) {
    const nome = document.getElementById("nome" + i).value;
    if (!nome) return alert("Digite seu nome!");

    database.ref('presentes/' + i).update({
      reservado: true,
      pessoa: nome
    }).then(() => {
      alert("Sucesso! ‚ù§Ô∏è");
    });
  }

  carregar();
</script>

</body>
</html>
